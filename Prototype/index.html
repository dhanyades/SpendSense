<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SpendSense</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://cdn-uicons.flaticon.com/uicons-regular-rounded/css/uicons-regular-rounded.css">
  <link rel='stylesheet' href='https://cdn-uicons.flaticon.com/3.0.0/uicons-regular-rounded/css/uicons-regular-rounded.css'>

</head>
<body>
  <div id="app">
    <header class="app-header">
      <div class="status-bar">10:30 AM</div>
      <h1>SpendSense</h1>
    </header>
    <div id="content">
<!-- tab 1: welcome -->
  <section id="text_tab" class="tab active">
    <h2 style="display:none">Welcome</h2>

    <!-- Budget header card -->
    <section class="card budget-card" style="max-width:600px;margin:12px auto 16px;">
      <div class="month">October Budget</div>
      <div class="subtle">Remaining</div>
      <button class="amount-remaining" id="remainingAmount" type="button" aria-label="Open detailed budget breakdown">$1,250.75</button>
      <div class="row fineprint">
        <span id="totalBudgetLabel">Total Budget: $2,500.00</span>
        <span id="spentSoFarLabel">Spent So Far: $1,249.25</span>
      </div>
    </section>

    <!-- Recent Activity -->
    <section class="card" style="max-width:600px;margin:0 auto 80px;">
      <div class="section-title">Recent Activity</div>
      <br>
      <ul id="transactionsList" class="activity-list"></ul>
    </section>

    <!-- Quick-Add Modal -->
    <div id="quickAddModal" class="modal" aria-hidden="true">
      <div class="modal-content wide-modal" role="dialog" aria-modal="true" aria-labelledby="addTxTitle">
        <h3 id="addTxTitle">Add Transaction</h3>

        <div class="type-select" style="display:flex;gap:16px;justify-content:center;margin-bottom:20px">
          <label><input type="radio" name="txType" value="expense" checked> Expense</label>
          <label><input type="radio" name="txType" value="income"> Income</label>
        </div>

        <div class="form-grid">
          <div class="form-section">
            <h4>Basic Information</h4>
            <div class="input-group">
              <label for="amountInput">Amount ($)</label>
              <input type="number" id="amountInput" placeholder="0.00" min="0" step="0.01" />
            </div>
            
            <div class="input-group category-select-group">
              <label for="categoryInput">Category</label>
              <select id="categoryInput" data-placeholder="Select category"></select>
            </div>
          </div>

          <div class="form-section">
            <h4>Transaction Details</h4>
            <div class="input-group">
              <label for="merchantInput">Merchant/Payee</label>
              <input type="text" id="merchantInput" placeholder="Enter merchant name" />
            </div>
            
            <div class="input-group">
              <label for="noteInput">Description</label>
              <textarea id="noteInput" placeholder="Add details about this transaction"></textarea>
            </div>
          </div>

          <div class="form-section">
            <h4>Financial Planning</h4>
            <div class="input-group">
              <label for="recurringInput">Is this a recurring transaction?</label>
              <select id="recurringInput">
                <option value="no">No</option>
                <option value="monthly">Monthly</option>
                <option value="weekly">Weekly</option>
\              </select>
            </div>

            <div class="input-group">
              <label for="goalAllocationInput">Allocate to Goal</label>
              <select id="goalAllocationInput">
                <option value="">None</option>
                <!-- Goals will be populated dynamically -->
              </select>
            </div>

          </div>
        </div>

        <div class="modal-actions">
          <button id="saveTransaction" class="btn btn-primary">Save</button>
          <button id="closeModal" class="btn">Cancel</button>
        </div>
      </div>
    </div>

    <!-- Budget Breakdown Modal -->
    <div id="budgetBreakdownModal" class="modal" aria-hidden="true">
      <div class="modal-content breakdown-modal" role="dialog" aria-modal="true" aria-labelledby="budgetBreakdownTitle">
        <button class="modal-close" id="closeBreakdownModal" aria-label="Close budget breakdown">&times;</button>
        <h3 id="budgetBreakdownTitle">Budget Breakdown</h3>
        <p class="modal-subtext">See how your October budget is allocated.</p>
        <div class="breakdown-grid">
          <div>
            <div class="breakdown-label">Total Budget</div>
            <div class="breakdown-value" id="breakdownTotalBudget">$0.00</div>
          </div>
          <div>
            <div class="breakdown-label">Remaining</div>
            <div class="breakdown-value accent" id="breakdownRemaining">$0.00</div>
          </div>
          <div>
            <div class="breakdown-label">Spent So Far</div>
            <div class="breakdown-value danger" id="breakdownSpent">$0.00</div>
          </div>
          <div>
            <div class="breakdown-label">Allocated to Goals</div>
            <div class="breakdown-value" id="breakdownAllocated">$0.00</div>
          </div>
          <div>
            <div class="breakdown-label">Income Logged</div>
            <div class="breakdown-value good" id="breakdownIncome">$0.00</div>
          </div>
          <div>
            <div class="breakdown-label">Net Position</div>
            <div class="breakdown-value" id="breakdownNet">$0.00</div>
          </div>
        </div>
        <div class="progress-wrapper">
          <div class="progress-header">
            <span>Budget Utilization</span>
            <span id="breakdownProgressLabel">0% used</span>
          </div>
          <div class="progress-bar">
            <div class="progress-fill" id="breakdownProgressFill" style="width:0%"></div>
          </div>
        </div>
        <div class="breakdown-categories">
          <div class="breakdown-categories-header">
            <h4>Top Spending Categories</h4>
            <span id="breakdownCategoryHint">Last 5 expenses</span>
          </div>
          <ul id="breakdownCategoryList"></ul>
        </div>
      </div>
    </div>
        <!-- Floating Action Button -->
    <button id="fab" aria-label="Add transaction">+</button>
    <!-- toasts -->
    <div id="txFeed" aria-live="polite"></div>
  </section>

    <!-- Enhanced Transaction Modal -->
  <div id="editTransactionModal" class="modal" aria-hidden="true">
    <div class="modal-content wide-modal" role="dialog" aria-modal="true" aria-labelledby="editTxTitle">
      <h3 id="editTxTitle">Edit Transaction</h3>

      <div class="type-select" style="display:flex;gap:16px;justify-content:center;margin-bottom:20px">
        <label><input type="radio" name="editTxType" value="expense"> Expense</label>
        <label><input type="radio" name="editTxType" value="income"> Income</label>
      </div>

      <div class="form-grid">
        <div class="form-section">
          <h4>Basic Information</h4>
          <div class="input-group">
            <label for="editAmountInput">Amount ($)</label>
            <input type="number" id="editAmountInput" placeholder="0.00" min="0" step="0.01" />
          </div>
          
          <div class="input-group">
            <label for="editCategoryInput">Category</label>
            <select id="editCategoryInput">
              <option value="" disabled>Select category</option>
              <option>Groceries</option>
              <option>Rent</option>
              <option>Utilities</option>
              <option>Transportation</option>
              <option>Dining</option>
              <option>Entertainment</option>
              <option>Miscellaneous</option>
            </select>
          </div>
        </div>

        <div class="form-section">
          <h4>Transaction Details</h4>
          <div class="input-group">
            <label for="editMerchantInput">Merchant/Payee</label>
            <input type="text" id="editMerchantInput" placeholder="Enter merchant name" />
          </div>
          
          <div class="input-group">
            <label for="editNoteInput">Description</label>
            <textarea id="editNoteInput" placeholder="Add details about this transaction"></textarea>
          </div>
        </div>

        <div class="form-section">
          <h4>Financial Planning</h4>
          <div class="input-group">
            <label for="editRecurringInput">Is this a recurring transaction?</label>
            <select id="editRecurringInput">
              <option value="no">No</option>
              <option value="monthly">Monthly</option>
              <option value="weekly">Weekly</option>
            </select>
          </div>

          <div class="input-group">
            <label for="editGoalAllocationInput">Allocate to Goal</label>
            <select id="editGoalAllocationInput">
              <option value="">None</option>
              <!-- Goals will be populated dynamically -->
            </select>
          </div>

        </div>
      </div>

      <input type="hidden" id="editTransactionId" />

      <div class="modal-actions">
        <button id="updateTransaction" class="btn btn-primary">Update</button>
        <button id="closeEditModal" class="btn">Cancel</button>
      </div>
    </div>
  </div>      
  <!-- tab 2: Transactions -->
      <section id="lr_tab" class="tab">
        <h2>November Transaction History</h2>
        <div class="transactions-header">
          <div class="category-filter">
            <select id="categoryFilter">
              <option value="all">All Categories</option>
              <option value="Groceries">Groceries</option>
              <option value="Rent">Rent</option>
              <option value="Utilities">Utilities</option>
              <option value="Transportation">Transportation</option>
              <option value="Dining">Dining</option>
              <option value="Entertainment">Entertainment</option>
              <option value="Miscellaneous">Miscellaneous</option>
            </select>
          </div>
        </div>

        <!-- Inline LR add form (survey style) -->
        <div id="lr_add_form" class="lr-add-form" style="display:none; margin-top:16px;">
          <div class="form-grid">
            <div class="form-section">
              <h4>Basic Information</h4>
              <div class="input-group">
                <label for="lr_amountInput">Amount ($)</label>
                <input type="number" id="lr_amountInput" placeholder="0.00" min="0" step="0.01" />
              </div>
              <div class="input-group">
                <label for="lr_categoryInput">Category</label>
                <select id="lr_categoryInput">
                  <option value="" disabled selected>Select category</option>
                  <option>Groceries</option>
                  <option>Rent</option>
                  <option>Utilities</option>
                  <option>Transportation</option>
                  <option>Dining</option>
                  <option>Entertainment</option>
                  <option>Miscellaneous</option>
                </select>
              </div>
            </div>

            <div class="form-section">
              <h4>Transaction Details</h4>
              <div class="input-group">
                <label for="lr_merchantInput">Merchant/Payee</label>
                <input type="text" id="lr_merchantInput" placeholder="Enter merchant name" />
              </div>
              <div class="input-group">
                <label for="lr_noteInput">Description</label>
                <textarea id="lr_noteInput" placeholder="Add details about this transaction"></textarea>
              </div>
            </div>

            <div class="form-section">
              <h4>Financial Planning</h4>
              <div class="input-group">
                <label for="lr_recurringInput">Is this a recurring transaction?</label>
                <select id="lr_recurringInput">
                  <option value="no">No</option>
                  <option value="monthly">Monthly</option>
                  <option value="weekly">Weekly</option>
                </select>
              </div>
              <div class="input-group">
                <label for="lr_goalAllocationInput">Allocate to Goal</label>
                <select id="lr_goalAllocationInput">
                  <option value="">None</option>
                </select>
              </div>
              
              <div class="input-group">
                <label>Type</label>
                <div style="display:flex;gap:12px;align-items:center">
                  <label><input type="radio" name="lr_txType" value="expense" checked/> Expense</label>
                  <label><input type="radio" name="lr_txType" value="income"/> Income</label>
                </div>
              </div>
            </div>
          </div>

          <div style="display:flex;gap:12px;justify-content:flex-end;margin-top:12px">
            <button id="lr_saveTransaction" class="btn btn-primary">Save</button>
            <button id="lr_cancel" class="btn">Cancel</button>
          </div>
        </div>

        <div class="transactions-container">
          <div class="transactions-by-category">
            <!-- Categories will be dynamically inserted here -->
          </div>
          <div id="categoryTotals" class="category-totals">
            <!-- Category totals will be displayed here -->
          </div>
        </div>
      </section>

      <!-- tab 4: profile -->
      <section id="profile_tab" class="tab">
        <h2>Profile</h2>
        <div class="center">
          <img id="avatar" src="images/testy.png" alt="Profile" />
          <div class="name">Testudo</div>
        </div>
      <div id="profile_notification" class="notification_overlay">
        <div class="notification_box">
          <div class="notification_title">Hello!</div>
          <div class="notification_text">You tapped the profile image.</div>
          <button id="close_notification">Close</button>
        </div>
      </div>
      <div class="budget-card">
        <h2 class="budget-title">October Budget</h2>
        <p class="budget-label">Remaining</p>
        <div class="budget-amount">$1,250.75</div>
        <div class="budget-details">
          <div class="budget-item">
            <div class="budget-item-label">Total Budget</div>
            <div class="budget-item-value" id="profileTotalBudgetValue">$2,500.00</div>
          </div>
          <div class="budget-item">
            <div class="budget-item-label">Spent So Far</div>
            <div class="budget-item-value" id="profileSpentValue">$1,249.25</div>
          </div>
        </div>
        <div class="income-line">
          <span class="income-label">Monthly Income: $3,000.00</span>
        </div>
      </div>

      <div class="card custom-categories-card">
        <div class="custom-category-header">
          <div>
            <h3>Categories</h3>
            <p class="custom-category-hint">Custom categories appear in Quick-Add, Transactions, and Goals.</p>
          </div>
          <button id="manageCategoriesBtn" class="btn btn-primary">Manage Custom Category</button>
        </div>
        <ul id="customCategoriesList" class="custom-category-list" aria-live="polite"></ul>
      </div>

      <!-- Create Category Modal (scoped to Profile) -->
      <div id="createCategoryModal" class="modal" aria-hidden="true">
        <div class="modal-content create-category-modal" role="dialog" aria-modal="true" aria-labelledby="createCategoryTitle">
          <button class="modal-close" id="closeCategoryModal" aria-label="Close category modal">&times;</button>
          <h3 id="createCategoryTitle">Create Category</h3>
          <p class="modal-subtext">Name a new budget category so you can tag future expenses with it.</p>
          <div class="input-group">
            <label for="newCategoryName">Category Name</label>
            <input type="text" id="newCategoryName" placeholder="e.g., Pets" />
          </div>
          <div class="input-group">
            <label for="categoryPurpose">Purpose</label>
            <textarea id="categoryPurpose" placeholder="Why are you creating this bucket? (optional)"></textarea>
          </div>
          <div class="modal-actions">
            <button id="saveCategory" class="btn btn-primary">Save Category</button>
          </div>
        </div>
      </div>

      <div class="profile-goal-actions">
        <button id="addGoalBtn" class="btn btn-primary"><i class="fi fi-rr-plus"></i> Add Goal</button>
      </div>

      <section id="profileGoalsMirror" class="profile-goals-mirror card" aria-live="polite"></section>

      <div id="goalModal" class="modal" aria-hidden="true">
        <div class="modal-content" role="dialog" aria-modal="true">
          <h3 id="goalModalTitle">Add New Goal</h3>
          
          <div class="input-group">
            <label for="goalName">Goal Name</label>
            <input type="text" id="goalName" placeholder="e.g., New Car" />
          </div>

          <div class="input-group">
            <label for="goalAmount">Target Amount ($)</label>
            <input type="number" id="goalAmount" min="0" step="0.01" placeholder="0.00" />
          </div>

          <div class="input-group">
            <label for="goalDeadline">Target Date</label>
            <input type="date" id="goalDeadline" />
          </div>

          <div class="input-group">
            <label for="goalCategory">Category</label>
            <select id="goalCategory">
              <option value="savings">Savings</option>
              <option value="purchase">Major Purchase</option>
              <option value="emergency">Emergency Fund</option>
              <option value="debt">Debt Payoff</option>
              <option value="education">Education</option>
              <option value="travel">Travel</option>
              <option value="other">Other</option>
            </select>
          </div>

          <div class="input-group">
            <label for="goalNotes">Notes</label>
            <textarea id="goalNotes" placeholder="Add any additional details about your goal..."></textarea>
          </div>

          <input type="hidden" id="editGoalId" />

          <div class="modal-actions">
            <button id="saveGoal" class="btn btn-primary">Save Goal</button>
            <button id="closeGoalModal" class="btn">Cancel</button>
          </div>
        </div>
      </div>
      </section>

      <!-- tab 5: trends -->
      <section id="choices_tab" class="tab">
        <h2>Trends</h2>
        <div class="card">
          <div class="row">
            <label for="graph_type">Graph: </label>
            <select id="graph_type">
              <option value="spendingByCategory">Monthly Spending</option>
              <option value="budgetVsActual">Spending vs Budget</option>
              <option value="incomeTrends">Income vs Expenses</option>
              <option value="spendingBreakdown">Spending Breakdown</option>
              <option value="goalProgress">Goal Progress</option>

            </select>
          </div>

        <div id="graph_output">
          <img src="images/SpendingbyCategory.png" id="spendingByCategory" class="graph" alt="Spending by Category" style="max-width:100%; border-radius:10px; margin-bottom:10px;">
          <img src="images/SpendingvBudget.png" id="budgetVsActual" class="graph" alt="Budget vs Actual" style="max-width:100%; border-radius:10px; margin-bottom:10px;">
          <img src="images/IncomevExpenses.png" id="incomeTrends" class="graph" alt="Income Trends" style="max-width:100%; border-radius:10px; margin-bottom:10px;">
          <img src="images/Spending.png" id="spendingBreakdown" class="graph" alt="Spending Breakdown" style="max-width:100%; border-radius:10px; margin-bottom:10px;">
          <img src="images/GoalProgress.png" id="goalProgress" class="graph" alt="Goal Progress" style="max-width:100%; border-radius:10px; margin-bottom:10px;">
        </div>
      </section>

      <!-- Reminders Tab (Minimal) -->
      <section id="reminders_tab" class="tab" style="font-family:Arial, sans-serif; padding:16px;">
        <h2>Reminders</h2>
        <p>Track bills and payments.</p>

        <form style="margin-bottom:16px;">
          <label>
            Reminder Name<br>
            <input id="rName" type="text" placeholder="e.g., Rent" required>
          </label><br><br>

          <label>
            Amount ($)<br>
            <input id="amount" type="number" min="0" step="0.01" placeholder="0.00" required>
          </label><br><br>

          <label>
            Due Date<br>
            <input type="date" id="dueDate" required>
          </label><br><br>

          <label>
            <input type="checkbox" id="recurring"> Recurring
          </label><br><br>

          <button
            type="button"
            style="background:#4a9d7c;color:#fff;border:none;padding:8px 16px;cursor:pointer;"
            onclick="document.getElementById('list').innerHTML += '<p>' + document.getElementById('rName').value + ' • $' + document.getElementById('amount').value + ' • Due ' + document.getElementById('dueDate').value + ' • ' + (document.getElementById('recurring').checked ? 'Recurring' : 'One-time') + '</p>'">
            Add Reminder
          </button>
        </form>

        <h3>Upcoming Reminders</h3>
        <div>
          <p><strong>Phone Bill</strong><br>$65.00 • Due 10/15/2025 • Recurring</p>
          <hr>
          <p><strong>Car Insurance</strong><br>$120.00 • Due 11/01/2025 • One-time</p>
          <hr>
          <p><strong>Water Bill</strong><br>$40.00 • Due 11/10/2025 • Recurring</p>
        </div>

        <div id="list">
        </div>

      </section>


    <!-- Floating Action Button -->
    <button id="fab" aria-label="Add transaction">+</button>

    <!-- navigation  bar -->
    <nav id="navigationBar">
      <button id="tab-text" class="active" data-target="#text_tab">
        <i class="fi fi-rr-dashboard"></i>
        <span>Dashboard</span>
      </button>
      <button id="tab-lr" data-target="#lr_tab" data-label="transactions">
        <i class="fi fi-rr-money"></i>
        <span>Transactions</span>
      </button>
      <button id="tab-profile" data-target="#profile_tab">
        <i class="fi fi-rr-user"></i>
        <span>Profile</span>
      </button>
      <button id="tab-choices" data-target="#choices_tab">
       <i class="fi fi-rr-display-chart-up"></i>
        <span>Trends</span>
      </button>
      <button id="tab-todo" data-target="#reminders_tab">
        <i class="fi fi-rr-task-checklist"></i>
        <span>Reminders</span>
      </button>
    </nav>
  </div>
  <script src="script.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SpendSense</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://cdn-uicons.flaticon.com/uicons-regular-rounded/css/uicons-regular-rounded.css">
  <link rel='stylesheet' href='https://cdn-uicons.flaticon.com/3.0.0/uicons-regular-rounded/css/uicons-regular-rounded.css'>

</head>
<body>
  <div id="app">
    <header class="app-header">
      <div class="status-bar">10:30 AM</div>
      <h1>SpendSense</h1>
    </header>
    <div id="content">
<!-- tab 1: welcome -->
  <section id="text_tab" class="tab active">
    <h2 style="display:none">Welcome</h2>

    <!-- Budget header card -->
    <section class="card budget-card" style="max-width:600px;margin:12px auto 16px;">
      <div class="month">October Budget</div>
      <div class="subtle">Remaining</div>
      <div class="amount-remaining" id="remainingAmount">$1,250.75</div>
      <div class="row fineprint">
        <span id="totalBudgetLabel">Total Budget: $2,500.00</span>
        <span id="allocatedToGoalsLabel">Allocated to Goals: $0.00</span>
        <span id="spentSoFarLabel">Spent So Far: $1,249.25</span>
      </div>
    </section>

    <!-- Recent Activity -->
    <section class="card" style="max-width:600px;margin:0 auto 80px;">
      <div class="section-title">Recent Activity</div>
      <br>
      <ul id="transactionsList" class="activity-list"></ul>
    </section>

    <!-- Floating Action Button -->
    <button id="fab" aria-label="Add transaction">+</button>

    <!-- Quick-Add Modal -->
    <div id="quickAddModal" class="modal" aria-hidden="true">
      <div class="modal-content wide-modal" role="dialog" aria-modal="true" aria-labelledby="addTxTitle">
        <h3 id="addTxTitle">Add Transaction</h3>

        <div class="type-select" style="display:flex;gap:16px;justify-content:center;margin-bottom:20px">
          <label><input type="radio" name="txType" value="expense" checked> Expense</label>
          <label><input type="radio" name="txType" value="income"> Income</label>
        </div>

        <div class="form-grid">
          <div class="form-section">
            <h4>Basic Information</h4>
            <div class="input-group">
              <label for="amountInput">Amount ($)</label>
              <input type="number" id="amountInput" placeholder="0.00" min="0" step="0.01" />
            </div>
            
            <div class="input-group">
              <label for="categoryInput">Category</label>
              <select id="categoryInput">
                <option value="" disabled selected>Select category</option>
                <option>Groceries</option>
                <option>Rent</option>
                <option>Utilities</option>
                <option>Transportation</option>
                <option>Dining</option>
                <option>Entertainment</option>
                <option>Miscellaneous</option>
              </select>
            </div>
          </div>

          <div class="form-section">
            <h4>Transaction Details</h4>
            <div class="input-group">
              <label for="merchantInput">Merchant/Payee</label>
              <input type="text" id="merchantInput" placeholder="Enter merchant name" />
            </div>
            
            <div class="input-group">
              <label for="noteInput">Description</label>
              <textarea id="noteInput" placeholder="Add details about this transaction"></textarea>
            </div>
          </div>

          <div class="form-section">
            <h4>Financial Planning</h4>
            <div class="input-group">
              <label for="recurringInput">Is this a recurring transaction?</label>
              <select id="recurringInput">
                <option value="no">No</option>
                <option value="monthly">Monthly</option>
                <option value="weekly">Weekly</option>
                <option value="yearly">Yearly</option>
              </select>
            </div>

            <div class="input-group">
              <label for="goalAllocationInput">Allocate to Goal</label>
              <select id="goalAllocationInput">
                <option value="">None</option>
                <!-- Goals will be populated dynamically -->
              </select>
            </div>

            <div class="input-group">
              <label for="priorityInput">Priority Level</label>
              <select id="priorityInput">
                <option value="essential">Essential</option>
                <option value="important">Important</option>
                <option value="optional">Optional</option>
              </select>
            </div>
          </div>
        </div>

        <div class="modal-actions">
          <button id="saveTransaction" class="btn btn-primary">Save</button>
          <button id="closeModal" class="btn">Cancel</button>
        </div>
      </div>
    </div>

    <!-- toasts -->
    <div id="txFeed" aria-live="polite"></div>
  </section>

    <!-- Enhanced Transaction Modal -->
  <div id="editTransactionModal" class="modal" aria-hidden="true">
    <div class="modal-content wide-modal" role="dialog" aria-modal="true" aria-labelledby="editTxTitle">
      <h3 id="editTxTitle">Edit Transaction</h3>

      <div class="type-select" style="display:flex;gap:16px;justify-content:center;margin-bottom:20px">
        <label><input type="radio" name="editTxType" value="expense"> Expense</label>
        <label><input type="radio" name="editTxType" value="income"> Income</label>
      </div>

      <div class="form-grid">
        <div class="form-section">
          <h4>Basic Information</h4>
          <div class="input-group">
            <label for="editAmountInput">Amount ($)</label>
            <input type="number" id="editAmountInput" placeholder="0.00" min="0" step="0.01" />
          </div>
          
          <div class="input-group">
            <label for="editCategoryInput">Category</label>
            <select id="editCategoryInput">
              <option value="" disabled>Select category</option>
              <option>Groceries</option>
              <option>Rent</option>
              <option>Utilities</option>
              <option>Transportation</option>
              <option>Dining</option>
              <option>Entertainment</option>
              <option>Miscellaneous</option>
            </select>
          </div>
        </div>

        <div class="form-section">
          <h4>Transaction Details</h4>
          <div class="input-group">
            <label for="editMerchantInput">Merchant/Payee</label>
            <input type="text" id="editMerchantInput" placeholder="Enter merchant name" />
          </div>
          
          <div class="input-group">
            <label for="editNoteInput">Description</label>
            <textarea id="editNoteInput" placeholder="Add details about this transaction"></textarea>
          </div>
        </div>

        <div class="form-section">
          <h4>Financial Planning</h4>
          <div class="input-group">
            <label for="editRecurringInput">Is this a recurring transaction?</label>
            <select id="editRecurringInput">
              <option value="no">No</option>
              <option value="monthly">Monthly</option>
              <option value="weekly">Weekly</option>
              <option value="yearly">Yearly</option>
            </select>
          </div>

          <div class="input-group">
            <label for="editGoalAllocationInput">Allocate to Goal</label>
            <select id="editGoalAllocationInput">
              <option value="">None</option>
              <!-- Goals will be populated dynamically -->
            </select>
          </div>

          <div class="input-group">
            <label for="editPriorityInput">Priority Level</label>
            <select id="editPriorityInput">
              <option value="essential">Essential</option>
              <option value="important">Important</option>
              <option value="optional">Optional</option>
            </select>
          </div>
        </div>
      </div>

      <input type="hidden" id="editTransactionId" />

      <div class="modal-actions">
        <button id="updateTransaction" class="btn btn-primary">Update</button>
        <button id="closeEditModal" class="btn">Cancel</button>
      </div>
    </div>
  </div>      
  <!-- tab 2: Transactions -->
      <section id="lr_tab" class="tab">
        <h2>November Transaction History</h2>
        <div class="transactions-header">
          <div class="category-filter">
            <select id="categoryFilter">
              <option value="all">All Categories</option>
              <option value="Groceries">Groceries</option>
              <option value="Rent">Rent</option>
              <option value="Utilities">Utilities</option>
              <option value="Transportation">Transportation</option>
              <option value="Dining">Dining</option>
              <option value="Entertainment">Entertainment</option>
              <option value="Miscellaneous">Miscellaneous</option>
            </select>
          </div>
        </div>

        <!-- Inline LR add form (survey style) -->
        <div id="lr_add_form" class="lr-add-form" style="display:none; margin-top:16px;">
          <div class="form-grid">
            <div class="form-section">
              <h4>Basic Information</h4>
              <div class="input-group">
                <label for="lr_amountInput">Amount ($)</label>
                <input type="number" id="lr_amountInput" placeholder="0.00" min="0" step="0.01" />
              </div>
              <div class="input-group">
                <label for="lr_categoryInput">Category</label>
                <select id="lr_categoryInput">
                  <option value="" disabled selected>Select category</option>
                  <option>Groceries</option>
                  <option>Rent</option>
                  <option>Utilities</option>
                  <option>Transportation</option>
                  <option>Dining</option>
                  <option>Entertainment</option>
                  <option>Miscellaneous</option>
                </select>
              </div>
            </div>

            <div class="form-section">
              <h4>Transaction Details</h4>
              <div class="input-group">
                <label for="lr_merchantInput">Merchant/Payee</label>
                <input type="text" id="lr_merchantInput" placeholder="Enter merchant name" />
              </div>
              <div class="input-group">
                <label for="lr_noteInput">Description</label>
                <textarea id="lr_noteInput" placeholder="Add details about this transaction"></textarea>
              </div>
            </div>

            <div class="form-section">
              <h4>Financial Planning</h4>
              <div class="input-group">
                <label for="lr_recurringInput">Is this a recurring transaction?</label>
                <select id="lr_recurringInput">
                  <option value="no">No</option>
                  <option value="monthly">Monthly</option>
                  <option value="weekly">Weekly</option>
                  <option value="yearly">Yearly</option>
                </select>
              </div>
              <div class="input-group">
                <label for="lr_goalAllocationInput">Allocate to Goal</label>
                <select id="lr_goalAllocationInput">
                  <option value="">None</option>
                </select>
              </div>
              <div class="input-group">
                <label for="lr_priorityInput">Priority Level</label>
                <select id="lr_priorityInput">
                  <option value="essential">Essential</option>
                  <option value="important">Important</option>
                  <option value="optional">Optional</option>
                </select>
              </div>
              <div class="input-group">
                <label>Type</label>
                <div style="display:flex;gap:12px;align-items:center">
                  <label><input type="radio" name="lr_txType" value="expense" checked/> Expense</label>
                  <label><input type="radio" name="lr_txType" value="income"/> Income</label>
                </div>
              </div>
            </div>
          </div>

          <div style="display:flex;gap:12px;justify-content:flex-end;margin-top:12px">
            <button id="lr_saveTransaction" class="btn btn-primary">Save</button>
            <button id="lr_cancel" class="btn">Cancel</button>
          </div>
        </div>

        <div class="transactions-container">
          <div class="transactions-by-category">
            <!-- Categories will be dynamically inserted here -->
          </div>
          <div id="categoryTotals" class="category-totals">
            <!-- Category totals will be displayed here -->
          </div>
        </div>
      </section>

      <!-- tab 3: goals -->
      <section id="colors_tab" class="tab">
        <h2>Goals</h2>
        <div class="goals-container">
          <!-- Goal Summary Cards -->
          <div class="goals-overview">
            <div class="summary-card total-goals">
              <i class="fi fi-rr-target"></i>
              <div class="summary-content">
                <div class="summary-label">Active Goals</div>
                <div class="summary-value" id="totalGoalsCount">0</div>
              </div>
            </div>
            <div class="summary-card total-progress">
              <i class="fi fi-rr-chart-line-up"></i>
              <div class="summary-content">
                <div class="summary-label">Average Progress</div>
                <div class="summary-value" id="averageProgress">0%</div>
              </div>
            </div>
            <div class="summary-card total-saved">
              <!-- Inline SVG money icon to avoid missing icon-font issues -->
              <svg class="summary-icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false" xmlns="http://www.w3.org/2000/svg">
                <rect x="1" y="6" width="22" height="12" rx="2" ry="2" fill="currentColor" opacity="0.08"/>
                <rect x="3" y="8" width="18" height="8" rx="1" ry="1" fill="none" stroke="currentColor" stroke-width="1.2"/>
                <text x="12" y="13.2" text-anchor="middle" font-size="9" fill="currentColor" font-family="Arial, Helvetica, sans-serif" font-weight="700">$</text>
              </svg>
              <div class="summary-content">
                <div class="summary-label">Total Saved</div>
                <div class="summary-value" id="totalSaved">$0</div>
              </div>
            </div>
          </div>

          <!-- Goals List -->
          <div class="goals-management">
            <div class="goals-header">
              <h3>Your Goals</h3>
              <button id="addGoalBtn" class="btn btn-primary">
                <i class="fi fi-rr-plus"></i> New Goal
              </button>
            </div>
            
            <div class="goals-list">
              <!-- Goals will be dynamically inserted here -->
            </div>
          </div>

          <!-- Add/Edit Goal Modal -->
          <div id="goalModal" class="modal" aria-hidden="true">
            <div class="modal-content" role="dialog" aria-modal="true">
              <h3 id="goalModalTitle">Add New Goal</h3>
              
              <div class="input-group">
                <label for="goalName">Goal Name</label>
                <input type="text" id="goalName" placeholder="e.g., New Car" />
              </div>

              <div class="input-group">
                <label for="goalAmount">Target Amount ($)</label>
                <input type="number" id="goalAmount" min="0" step="0.01" placeholder="0.00" />
              </div>

              <div class="input-group">
                <label for="goalDeadline">Target Date</label>
                <input type="date" id="goalDeadline" />
              </div>

              <div class="input-group">
                <label for="goalCategory">Category</label>
                <select id="goalCategory">
                  <option value="savings">Savings</option>
                  <option value="purchase">Major Purchase</option>
                  <option value="emergency">Emergency Fund</option>
                  <option value="debt">Debt Payoff</option>
                  <option value="education">Education</option>
                  <option value="travel">Travel</option>
                  <option value="other">Other</option>
                </select>
              </div>

              <div class="input-group">
                <label for="goalNotes">Notes</label>
                <textarea id="goalNotes" placeholder="Add any additional details about your goal..."></textarea>
              </div>

              <input type="hidden" id="editGoalId" />

              <div class="modal-actions">
                <button id="saveGoal" class="btn btn-primary">Save Goal</button>
                <button id="closeGoalModal" class="btn">Cancel</button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- tab 4: profile -->
      <section id="profile_tab" class="tab">
        <h2>Profile</h2>
        <div class="center">
          <img id="avatar" src="images/testy.png" alt="Profile" />
          <div class="name">Testudo</div>
        </div>
      <div id="profile_notification" class="notification_overlay">
        <div class="notification_box">
          <div class="notification_title">Hello!</div>
          <div class="notification_text">You tapped the profile image.</div>
          <button id="close_notification">Close</button>
        </div>
      </div>
      <div class="budget-card">
        <h2 class="budget-title">October Budget</h2>
        <p class="budget-label">Remaining</p>
        <div class="budget-amount">$1,250.75</div>
        <div class="budget-details">
          <div class="budget-item">
            <div class="budget-item-label">Total Budget</div>
            <div class="budget-item-value" id="profileTotalBudgetValue">$2,500.00</div>
          </div>
          <div class="budget-item">
            <div class="budget-item-label">Allocated to Goals</div>
            <div class="budget-item-value" id="profileAllocatedValue">$0.00</div>
          </div>
          <div class="budget-item">
            <div class="budget-item-label">Spent So Far</div>
            <div class="budget-item-value" id="profileSpentValue">$1,249.25</div>
          </div>
        </div>
        <div class="income-line">
          <span class="income-label">Monthly Income: $3,000.00</span>
        </div>
      </div>
      <div class="goals-box">
        <h3 class="goals-title">Goals</h3>
        <div class="goal-item">
          <div class="goal-header">
            <span class="goal-label">Short Term Goal</span>
          </div>
          <div class="goal-name">New Laptop: $700 / $1,50</div>
        </div>
        
        <div class="goal-item">
          <div class="goal-header">
            <span class="goal-label">Long Term Goal</span>
          </div>
          <div class="goal-name">New Car: $5,000 / $20,000</div>
        </div>
      </div>
      </section>

      <!-- tab 5:TRENDS TAB: has the charts/grpahs -->
      <section id="choices_tab" class="tab">
        <h2>Trends</h2>
        <div class="card">
          <div class="row">
            <label for="graph_type">Graph: </label>
            <select id="graph_type">
              <option value="spendingByCategory">Monthly Spending</option>
              <option value="budgetVsActual">Spending vs Budget</option>
              <option value="incomeTrends">Income vs Expenses</option>
              <option value="spendingBreakdown">Spending Breakdown</option>
              <option value="goalProgress">Goal Progress</option>

            </select>
          </div>

        <div id="graph_output">
          <img src="images/SpendingbyCategory.png" id="spendingByCategory" class="graph" alt="Spending by Category" style="max-width:100%; border-radius:10px; margin-bottom:10px;">
          <img src="images/SpendingvBudget.png" id="budgetVsActual" class="graph" alt="Budget vs Actual" style="max-width:100%; border-radius:10px; margin-bottom:10px;">
          <img src="images/IncomevExpenses.png" id="incomeTrends" class="graph" alt="Income Trends" style="max-width:100%; border-radius:10px; margin-bottom:10px;">
          <img src="images/Spending.png" id="spendingBreakdown" class="graph" alt="Spending Breakdown" style="max-width:100%; border-radius:10px; margin-bottom:10px;">
          <img src="images/GoalProgress.png" id="goalProgress" class="graph" alt="Goal Progress" style="max-width:100%; border-radius:10px; margin-bottom:10px;">
        </div>
      </section>

      <!-- tab 6: todo -->
      <section id="todo_tab" class="tab">
        <h2>Tasks</h2>
        <div class="todo">
          <div class="todo-input-container">
            <input id="todo_input" type="text" placeholder="Add a new task..." />
            <button id="todo_add" class="add-btn">Add Task</button>
          </div>
          <ul id="todo_list" class="todo-list"></ul>
        </div>
      </section>
    </div>

    <!-- navigation  bar -->
    <nav id="navigationBar">
      <button id="tab-text" class="active" data-target="#text_tab">
        <i class="fi fi-rr-home"></i>
        <span>Home</span>
      </button>
      <button id="tab-lr" data-target="#lr_tab" data-label="transactions">
        <i class="fi fi-rr-money"></i>
        <span>Transactions</span>
      </button>
      <button id="tab-colors" data-target="#colors_tab">
        <i class="fi fi-rr-target"></i>
        <span>Goals</span>
      </button>
      <button id="tab-profile" data-target="#profile_tab">
        <i class="fi fi-rr-user"></i>
        <span>Profile</span>
      </button>
      <button id="tab-choices" data-target="#choices_tab">
        <i class="fi fi-rr-choose"></i>
        <span>Choices</span>
      </button>
      <button id="tab-todo" data-target="#todo_tab">
        <i class="fi fi-rr-task-checklist"></i>
        <span>ToDo</span>
      </button>
    </nav>
  </div>
  <script src="script.js"></script>
</body>
</html>